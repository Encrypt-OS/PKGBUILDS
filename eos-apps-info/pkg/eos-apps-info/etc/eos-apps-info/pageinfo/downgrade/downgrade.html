<h1 id="downgrade">downgrade</h1>
<h2 id="synopsis">Synopsis</h2>
<p><strong>downgrade</strong> [option...] &lt;pkg&gt; [pkg...]
[<strong>--</strong> pacman_option...]</p>
<h2 id="description">Description</h2>
<p>Downgrade Arch Linux packages.</p>
<h2 id="output">Output</h2>
<p>Calling <strong>downgrade</strong> on a package will lead to the
following output:</p>
<p><em>Example:</em></p>
<pre><code>-  1)  terraform    0.11.11  2  remote
-  2)  terraform    0.11.12  1  /var/cache/pacman/pkg
+  3)  terraform    0.11.13  1  remote
+  4)  terraform    0.11.13  1  /var/cache/pacman/pkg
-  5)  terraform    0.12.0   1  remote
-  6)  terraform    0.12.0   1  /var/cache/pacman/pkg
   7)  terraform    0.12.1   1  remote

Available packages (community):
7/7
&gt;</code></pre>
<p>The columns have the following meaning:</p>
<p><em>indicator</em> Possible values: {-|+}</p>
<p>- indicates that the version was previously installed.</p>
<p>+ indicates the currently installed version.</p>
<p><em>enumeration</em> An enumeration of the entries for selection.</p>
<p><em>package-name</em> The name of the package.</p>
<p><em>package-epoch</em> The epoch of the package in cache or ALA.</p>
<p><em>package-version</em> The version of the package in cache or
ALA.</p>
<p><em>package-release</em> The release of the package in cache or
ALA.</p>
<p><em>location</em> Possible values: {remote|/path/to/cache/dir}</p>
<p>If you have already downloaded this version, it will show the cache
directory where the package is located. <em>remote</em> indicates that
the version is available on the ALA.</p>
<h2 id="options">Options</h2>
<p><strong>--pacman</strong> <em>&lt;command&gt;</em></p>
<blockquote>
<p>Pacman command, default is <em>pacman</em>.</p>
</blockquote>
<p><strong>--pacman-conf</strong> <em>&lt;path&gt;</em></p>
<blockquote>
<p>Pacman configuration file, default is <em>/etc/pacman.conf</em>.</p>
</blockquote>
<p><strong>--pacman-cache</strong> <em>&lt;path&gt;</em></p>
<blockquote>
<p>Pacman cache directory, default value(s) taken from pacman
configuration file, or otherwise defaults to
<em>/var/cache/pacman/pkg</em>. This option can be specified multiple
times to indicate multiple cache directories.</p>
</blockquote>
<p><strong>--pacman-log</strong> <em>&lt;path&gt;</em></p>
<blockquote>
<p>Pacman log file, default value is extracted from pacman configuration
file, or otherwise defaults to <em>/var/log/pacman.log</em>.</p>
</blockquote>
<p><strong>--maxdepth</strong> <em>&lt;integer&gt;</em></p>
<blockquote>
<p>Maximum depth to search for cached packages, defaults to
<em>1</em>.</p>
</blockquote>
<p><strong>--ala-url</strong> <em>&lt;url&gt;</em></p>
<blockquote>
<p>Location of an ALA server, default is <em><a
href="https://archive.archlinux.org">https://archive.archlinux.org</a></em>.</p>
</blockquote>
<p><strong>--ala-only</strong></p>
<blockquote>
<p>Search ALA only.</p>
</blockquote>
<p><strong>--cached-only</strong></p>
<blockquote>
<p>Search local cache only.</p>
</blockquote>
<p><strong>--version</strong></p>
<blockquote>
<p>Show downgrade version.</p>
</blockquote>
<p><strong>-h, --help</strong></p>
<blockquote>
<p>Show help script.</p>
</blockquote>
<h2 id="configuration-file">CONFIGURATION FILE</h2>
<p>Command-line options can be set persistently in
<strong>/etc/xdg/downgrade/downgrade.conf</strong>. Note that these
options are parsed first by <strong>downgrade</strong>, followed by any
other command-line options provided by the user.</p>
<h2 id="pacman-options">PACMAN OPTIONS</h2>
<p>As per the usage syntax, any options supplied after the
<strong>--</strong> character sequence will be treated as pacman
options.</p>
<h2 id="default-behaviors">DEFAULT BEHAVIORS</h2>
<p>By default, <strong>downgrade</strong> will search both local caches
and the ALA.</p>
<p>If only one package with its corresponding location matches, the
package will be installed without further prompt from the user.</p>
<h2 id="version-filtering">Version filtering</h2>
<p><strong>downgrade</strong> allows the use of the following
version-filtering operators: <strong>=</strong>, <strong>==</strong>,
<strong>=~</strong>, <strong>&lt;=</strong>, <strong>&gt;=</strong>,
<strong>&lt;</strong> and <strong>&gt;</strong>. Note that
<strong>=~</strong> represents a regex match operator and
<strong>=</strong>/<strong>==</strong> are aliases.</p>
<h2 id="exit-codes">Exit codes</h2>
<p><strong>downgrade</strong> will stop further processing and exit
non-zero if it encounters any of the following scenarios for any of its
arguments:</p>
<ul>
<li><p>Execution from non-root user</p></li>
<li><p>No argument value(s) supplied where necessary</p></li>
<li><p>No package(s) found</p></li>
<li><p>Package(s) found, but an invalid selection was made</p></li>
<li><p><code>pacman -U</code> returned non-zero</p></li>
<li><p>Unexpected error when handling <code>IgnorePkg</code>
additions</p></li>
</ul>
<h2 id="see-also">See also</h2>
<p><strong>pacman</strong>(8), <strong>vercmp(8)</strong>,
<strong>sudo</strong>(8), <strong>pacman.conf</strong>(5),
<strong>find</strong>(1), <strong>su</strong>(1),
<strong>fzf</strong>(1).</p>
<h2 id="bugs">Bugs</h2>
<p>Open a GitHub issue on <em><a
href="https://github.com/pbrisbin/downgrade">https://github.com/pbrisbin/downgrade</a></em>.</p>
<h2 id="authors">Authors</h2>
<ul>
<li>Patrick Brisbin &lt;<a
href="mailto:pbrisbin@gmail.com">pbrisbin@gmail.com</a>&gt;</li>
</ul>
<!-- -->

<ul>
<li>Atreya Shankar &lt;<a
href="mailto:shankar.atreya@gmail.com">shankar.atreya@gmail.com</a>&gt;</li>
</ul>
